<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="IUDX | Indian Urban Data Exchange">
    <meta name="organization" content="RBCCPS, IISc Bangalore">
    <meta name="keywords" content="IUDX, CATALOGUE, RBCCPS, IISc BANGALORE">
    <meta name="author" content="Rohina Naaz">
    <link rel="shortcut icon" href="../assets/img/favicon.icon">
    <title id="smartcity_name"> </title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> -->
    <!-- <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.min.css">  -->
    <link href="../../assets/css/schema.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="../assets/css/jquery-ui.css"> -->

    <!-- Google Fonts  -->
    <link href="https://fonts.googleapis.com/css?family=Darker+Grotesque&display=swap" rel="stylesheet">
</head>

<body>
    <!-- <div class="container-fluid"> -->
    <!-- ***** Header Area Start ***** -->
    <!-- <header> -->
    <div id="container">
        <div id="intro">
            <div id="pageHeader">
                <div class="wrapper">
                    <div id="sitename">
                        <h1>
                            Iudx | Schema
                        </h1>
                    </div>
                    <div id="cse-search-form" style="width: 400px;">
                        <div class="gcse-searchbox-only" data-resultsUrl="docs/search_results.html"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="selectionbar">
        <div class="wrapper">
            <ul>

                <li>

                    <a href="#">Documentation</a>
                </li>
                <!-- <li>

                    <a href="./schema_property">Property</a>
                </li> -->
                <li>

                    <a href="./schema_class">Schemas</a>
                </li>
                <li>

                    <a href="./schema">Home</a><span>&nbsp;</span>

                </li>
            </ul>
        </div>
    </div>
    <!-- </header> -->
    <!-- ***** Header Area End ***** -->


    <!-- <div class="se-pre-con"></div> -->
   
    <section id="schema_property_section" class="container section">
                        
        <div id="mainContent">

        
        <div id="schema_property">
             <!-- <h1>Properties of class</h1>  -->
        </div>
        <table id="schema_section" class="definition-table">
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Expected Type</th>
                    <th>Description</th>
                </tr>
            </thead>

            <tbody id="propertySchema" class="supertype">


            </tbody>

        </table>

        </div>
        <div id="footer"><p>
                <!-- <a href="docs/terms.html">Terms and conditions</a></p> -->
        </div>
    
    </section>






</body>
<!-- <script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script> -->
<!-- <script type="text/javascript" src="../assets/js/bootstrap.min.js"></script> -->
<!-- <script src="../assets/js/jquery-ui.js"></script> -->
<script src="../../assets/js/schema_functions.js"></script>
<script>


// function get_key(dict){
//     // console.log(Object.keys(dict)[0])
// 	return Object.keys(dict)[0]
// }

// function get_value(dict){
//     console.log(Object.values(dict)[0])
// 	return Object.values(dict)[0]
// }
function getSchemaClass(__data){
    console.log("Not")
    for (i = 0; i < __data.length; i++) {
               if(__data[i]['@type'] === 'rdfs:Class') {
                    console.log("Not coming")
                    $('#schema_property').append(`
                            <h1 class="page-title">`+__data[i]['rdfs:label']+`</h1>
                            <p id="comment">`+__data[i]['rdfs:comment']+`</p>
                        `)
            
                    
                }
}
}
    $(document).ready(function () {
       
        $.get("https://api.myjson.com/bins/z693g", function (data) {
            //   $( ".result" ).html( data );
            console.log(data['@graph']);
            var dataResult = data['@graph']

            var mapObj = new Map();
            for (i = 0; i < dataResult.length; i++) {

            mapObj.set(i+1,dataResult[i]);
            // mapObj.get(get_key(dataResult[i]))
            var strMap = JSON.stringify(Array.from(mapObj.entries()));
            }
            console.log(strMap)
            localStorage.setItem('dict',strMap)
            // var strMap = JSON.stringify(Array.from(mapObj.entries()));
            // console.log(strMap)
            console.log(localStorage.getItem('dict'))
            // $('#schema').append(`
            //                 <h1 class="page-title">`+dataResult[10]['rdfs:label']+`</h1>
            //                 <p id="comment">`+dataResult[10]['rdfs:comment']+`</p>
            //             `)
            // getSchemaClass(dataResult);

            for (i = 0; i < dataResult.length; i++) {
                if (dataResult[i]['@type'] === 'rdfs:Class') {
                    // console.log(dataResult[i]['@type'])
                    // console.log(dataResult[i]['rdfs:label'])
                    // console.log(dataResult[i]['rdfs:comment'])
                    // console.log(dataResult[i]['rdfs:subClassOf'])
                    // console.log(i)
                    $('#schema').append(`
                            <h1 class="page-title">`+dataResult[i]['rdfs:label']+`</h1>
                             <p id="comment">`+dataResult[i]['rdfs:comment']+`</p>
                         `)
                }

                         if (dataResult[i]['schema:domainIncludes'] !== undefined){
                             
                             console.log("111111111")
    //   </tr>
                    if((dataResult[i]['schema:domainIncludes']['@id']) === dataResult[i]['@1d']){
                        console.log("2222222")
                        $('#propertySchema').append(`
                    <tr>           
            <th class="prop-nam" scope="row">
      
      <code property="rdfs:label"><a href="./address">`+dataResult[i]['rdfs:label']+`</a></code>
          </th>
       <td class="prop-ect">
      <link property="rangeIncludes" href="http://schema.org/PostalAddress"><a href="./PostalAddress">PostalAddress</a>&nbsp; or <br> <link property="rangeIncludes" href="http://schema.org/Text"><a href="./Text">Text</a>&nbsp;<link property="domainIncludes" href="http://schema.org/GeoCoordinates"><link property="domainIncludes" href="http://schema.org/GeoShape"><link property="domainIncludes" href="http://schema.org/Organization"><link property="domainIncludes" href="http://schema.org/Person"><link property="domainIncludes" href="http://schema.org/Place"></td>
      <td class="prop-desc" property="rdfs:comment">`+dataResult[i]['rdfs:comment']+`</td></tr><tr typeof="rdfs:Property" resource="http://schema.org/addressCountry">
          
        
      </tr>

                    `)
                  
                    }
                }
                
                //       console.log(dataResult[i]['schema:domainIncludes'])
                // if (dataResult[i]['@type'] !== undefined && dataResult[i]['@type'] === 'rdf:Property') {
                    // console.log(dataResult[i]['@type'])
                    // console.log(dataResult[i]['rdfs:label'])
                    // console.log(dataResult[i]['rdfs:comment'])
                    // console.log(dataResult[i]['schema:domainIncludes'])
                    // console.log(dataResult[i]['schema:rangeIncludes'])
                    // console.log(i)


    //                 // console.log(dataResult[i].includes('schema:domainIncludes'))
    //                 if (dataResult[i]['schema:domainIncludes'] !== undefined) {
    //                     count = 0;
    //                     console.log(i, dataResult[i]['schema:domainIncludes']['@id'])

    //                     if (dataResult[i]['schema:domainIncludes'].length >= 1) {
    //                         //    if(dataResult[i]['@type']=== "rdfs:Class") {
    //                         // if(dataResult[i]['schema:domainIncludes'].length !== 0) {
    //                         console.log("RRRRR")
    //                         console.log(dataResult[i]['schema:domainIncludes'].length)
    //                         for (index = 0; index < dataResult[i]['schema:domainIncludes'].length; i++) {
    //                             console.log(dataResult[i]['schema:domainIncludes'][index]['@id'])
    //                             console.log(dataResult[i]['rdfs:label'])
    //                             // if (dataResult[i]['schema:domainIncludes'][index]['@id'] == dataResult[i]['rdfs:label']) {
    //                             //     console.log(dataResult[i]['schema:domainIncludes'][index]['@id'])
    //                             //     // console.log(dataResult[i]['rdfs:label'])

    //                             // } 
                               
                                        
    //                 $('#propertySchema').append(`
    //                 <tr>           
    //         <th class="prop-nam" scope="row">
      
    //   <code property="rdfs:label"><a href="./address">`+dataResult[i]['rdfs:label']+`</a></code>
    //       </th>
    //    <td class="prop-ect">
    //   <link property="rangeIncludes" href="http://schema.org/PostalAddress"><a href="./PostalAddress">PostalAddress</a>&nbsp; or <br> <link property="rangeIncludes" href="http://schema.org/Text"><a href="./Text">Text</a>&nbsp;<link property="domainIncludes" href="http://schema.org/GeoCoordinates"><link property="domainIncludes" href="http://schema.org/GeoShape"><link property="domainIncludes" href="http://schema.org/Organization"><link property="domainIncludes" href="http://schema.org/Person"><link property="domainIncludes" href="http://schema.org/Place"></td>
    //   <td class="prop-desc" property="rdfs:comment">`+dataResult[i]['rdfs:comment']+`</td></tr><tr typeof="rdfs:Property" resource="http://schema.org/addressCountry">
          
        
    //   </tr>

    //                 `)
                  
                            }
                        // }

                    // }
                // }



                
             });
         });

    // });

    function show_property(class_schema,class_desc){
    $('#schema').append(`
                            <h1 class="page-title">properties of `+class_schema+`</h1>
                            <p id="comment">`+class_desc+`</p>
                        `)
}
$('#footer').html(getFooterContent());
</script>

</html>